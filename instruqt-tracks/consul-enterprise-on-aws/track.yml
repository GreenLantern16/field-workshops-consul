slug: consul-enterprise-on-aws
id: uyhpz2gmcv6f
type: track
title: Consul Enterprise on AWS
teaser: A short description of the track.
description: |-
  A long description of the track.

  You can use any GitHub flavoured markdown.
icon: https://storage.googleapis.com/instruqt-frontend/img/tracks/default.png
tags: []
owner: hashicorp
developers:
- lance@hashicorp.com
private: false
published: false
challenges:
- slug: validate-your-environment
  id: zf9q5j426xdi
  type: challenge
  title: 'Infrastructure: Validate the Environment'
  teaser: A short description of the challenge.
  assignment: |-
    The cloud infrastructure team has already set up cloud infrastructure for this environment.
    You can think of workstation terminal as your developer machine preloaded with cloud access credentials. <br>

    Any any time you can use the AWS console to view your environment.
    AWS CLI commands will be provided for you to interact with AWS's APIs. <br>


    View the VPCs in your environment.

    ```
    aws ec2 describe-vpcs
    ```

    You'll notice you have four separate VPCs that map to the infra diagram shared earlier.
    Their CIDR blocks are listed below.

    ```
    terraform-vpc-shared-svcs: 10.1.0.0/16
    terraform-vpc-frontend: 10.2.0.0/16
    terraform-vpc-api: 10.3.0.0/16
    terraform-vpc-storage: 10.4.0.0/16
    ```

    Our shared service VPC will run the core Consul infrastructure.
    You will provision the Consul servers in the next assignment.
  notes:
  - type: text
    contents: |-
      In this assignment you will familiarize yourself with the AWS cloud
      environment. <br>

      Please be patient as we provision your cloud environment.
  tabs:
  - title: Cloud CLI
    type: terminal
    hostname: cloud-client
  - title: Terraform
    type: code
    hostname: cloud-client
    path: /root/terraform/infra
  - title: Cloud Consoles
    type: service
    hostname: cloud-client
    path: /
    port: 80
  difficulty: basic
  timelimit: 3000
- slug: build-consul-image
  id: gudhtmhdc2au
  type: challenge
  title: 'Infrastructure: Build Consul Image'
  teaser: A short description of the challenge.
  assignment: |-
    In this assignment you will build an immutable image of [Consul with HashiCorp Packer](https://packer.io/) <br>

    Immutability has many advantages for infrastructure management.
    Consul enterprise can take advantage of immutable patterns with [Automated Upgrades](https://www.consul.io/docs/enterprise/upgrades/index.html)

    The Packer build has been set up for you. Inspect the variable file, then build the image.

    ```
    cat /root/packer/vars.json
    AWS_REGION=us-east-1 packer build -var-file vars.json centos.json
    ```

    Validate your AMI is available in us-east-1.

    ```
    aws ec2 describe-images --owners self
    ```

    Now that you have a Consul image, you're ready to provision Consul in a prod-like ASG.
  notes:
  - type: text
    contents: Replace this text with your own text
  tabs:
  - title: Cloud CLI
    type: terminal
    hostname: cloud-client
  - title: Packer
    type: code
    hostname: cloud-client
    path: /root/packer
  - title: Cloud Consoles
    type: service
    hostname: cloud-client
    path: /
    port: 80
  difficulty: basic
  timelimit: 3000
- slug: provision-consul
  id: lb5bfvjidxkm
  type: challenge
  title: 'Infrastructure: Provision Consul'
  teaser: A short description of the challenge.
  assignment: |-
    The assignment the participant needs to complete in order to proceed.

    You can use any GitHub flavoured markdown.
  notes:
  - type: text
    contents: Replace this text with your own text
  tabs:
  - title: Cloud CLI
    type: terminal
    hostname: cloud-client
  - title: Terraform
    type: code
    hostname: cloud-client
    path: /root/terraform/consul
  - title: Cloud Consoles
    type: service
    hostname: cloud-client
    path: /
    port: 80
  difficulty: basic
  timelimit: 300
checksum: "5724113827008834947"
